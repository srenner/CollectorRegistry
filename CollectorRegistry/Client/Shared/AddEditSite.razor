@* Admin UI card to add/edit a site *@

@using CollectorRegistry.Shared.ResultModels;
@using CollectorRegistry.Shared.ViewModels;
@inject IHttpClientFactory ClientFactory

<div>


    <div class="card">
        <div class="card-header">
            <span>Site: @(Site?.Title != null ? Site.Title : "New")</span>
        </div>
        <div class="card-body">
            <h5 class="card-title">Special title treatment</h5>
            <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>

            @if(Site != null)
            {
            <div>

                <div class="mb-3">
                    <label for="siteTitle" class="form-label">Site Title</label>
                    <InputText class="form-control" id="siteTitle" @bind-Value="Site.Title" placeholder="Site Title"></InputText>
                </div>

                <div class="mb-3">
                    Logo picker
                </div>


                <div class="mb-3 d-none">
                    <label for="siteSubdomain" class="form-label">Subdomain</label>
                    <InputText class="form-control" id="siteSubdomain" @bind-Value="Site.Subdomain" placeholder="Subdomain"></InputText>
                </div>
                <div class="mb-3">
                    <label for="siteDescription" class="form-label">Description</label>
                    <InputTextArea class="form-control" id="siteDescription" @bind-Value="Site.Description" placeholder="Short Site Description"></InputTextArea>
                </div>
                <div class="mb-3">
                    <label for="siteAbout" class="form-label">"About" Text</label>
                    <InputTextArea class="form-control" id="siteAbout" @bind-Value="Site.AboutText" placeholder="About this site..."></InputTextArea>
                </div>
                
                <hr>

                Serial number rules
                ===================

                Label

                Starts With

                Ends With

                Minimum Length

                Maximum Length

                Regex

                Label

                ==


                Item Nickname



            </div>    
            }
            

            <a href="#" class="btn btn-primary">Save</a>
        </div>
    </div>


</div>

@code {
    [Parameter]
    public int? SiteID { get; set; }

    [Parameter]
    public SiteViewModel? Site { get; set; }

    protected override async Task OnInitializedAsync()
    {
        if(SiteID == null && Site == null)
        {
            Site = new SiteViewModel();

        }
    }
}
